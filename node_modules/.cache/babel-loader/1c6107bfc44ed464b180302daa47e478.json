{"ast":null,"code":"import _classCallCheck from \"/Users/beverlyackah/Documents/MyReactProjects/rta_v4/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/beverlyackah/Documents/MyReactProjects/rta_v4/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/beverlyackah/Documents/MyReactProjects/rta_v4/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/beverlyackah/Documents/MyReactProjects/rta_v4/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/beverlyackah/Documents/MyReactProjects/rta_v4/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/beverlyackah/Documents/MyReactProjects/rta_v4/src/components/MapContainer.js\";\nimport React, { Component } from 'react';\nimport { Map, GoogleApiWrapper, InfoWindow, Marker, google } from 'google-maps-react';\nimport { connect } from 'react-redux';\nvar mapStyles = {\n  width: '50%',\n  height: '60%'\n};\n\nvar MapContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MapContainer, _Component);\n\n  function MapContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MapContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MapContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      showingInfoWindow: false,\n      //Hides or the shows the infoWindow\n      activeMarker: {},\n      //Shows the active marker upon click\n      selectedPlace: {},\n      //Shows the infoWindow to the selected place upon a marker\n      markers: []\n    };\n\n    _this.onMarkerClick = function (props, marker, e) {\n      return _this.setState({\n        selectedPlace: props,\n        activeMarker: marker,\n        showingInfoWindow: true\n      });\n    };\n\n    _this.onClose = function (props) {\n      if (_this.state.showingInfoWindow) {\n        _this.setState({\n          showingInfoWindow: false,\n          activeMarker: null\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(MapContainer, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      if (this.props.markerLocations) {\n        var locations = this.props.markerLocations;\n        this.getLocationCoordinates(locations.from);\n        this.getLocationCoordinates(locations.to);\n        console.log(\"THE LOC \", this.state.markers);\n      }\n    }\n  }, {\n    key: \"getLocationCoordinates\",\n    value: function getLocationCoordinates(location) {\n      var _this2 = this;\n\n      var geocoder = new window.google.maps.Geocoder();\n      geocoder.geocode({\n        address: location\n      }, function (result, status) {\n        if (status == 'OK') {\n          var geometry = result[0].geometry.location;\n          var coordinates = {\n            lat: geometry.lat(),\n            lng: geometry.lng()\n          };\n\n          _this2.setState(function (prev) {\n            prev.markers.push(coordinates);\n          });\n\n          return coordinates;\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(\"CA Y ES \", this.state.markers);\n\n      if (this.state.markers.length > 1) {\n        console.log(\"CA Y ES\");\n        return React.createElement(Map, {\n          google: this.props.google,\n          zoom: 14,\n          style: mapStyles,\n          initialCenter: {\n            lat: -1.2884,\n            lng: 36.8233\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(Marker, {\n          onClick: this.onMarkerClick,\n          name: 'Kenyatta International Convention Centre',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }), React.createElement(InfoWindow, {\n          marker: this.state.activeMarker,\n          visible: this.state.showingInfoWindow,\n          onClose: this.onClose,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, this.state.selectedPlace.name))));\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return MapContainer;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    markerLocations: state.mapReducer.data\n  };\n}\n\nexport var mapped = connect(mapStateToProps)(MapContainer);\nexport default GoogleApiWrapper({\n  apiKey: 'AIzaSyC64eUv-Iw47Q9MqhsnpgzpvCUm-SM1qi4'\n})(mapped);","map":{"version":3,"sources":["/Users/beverlyackah/Documents/MyReactProjects/rta_v4/src/components/MapContainer.js"],"names":["React","Component","Map","GoogleApiWrapper","InfoWindow","Marker","google","connect","mapStyles","width","height","MapContainer","state","showingInfoWindow","activeMarker","selectedPlace","markers","onMarkerClick","props","marker","e","setState","onClose","markerLocations","locations","getLocationCoordinates","from","to","console","log","location","geocoder","window","maps","Geocoder","geocode","address","result","status","geometry","coordinates","lat","lng","prev","push","length","name","mapStateToProps","mapReducer","data","mapped","apiKey"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Map, GoogleApiWrapper, InfoWindow, Marker, google  } from 'google-maps-react';\nimport {connect} from 'react-redux'\n\nconst mapStyles = {\n  width: '50%',\n  height: '60%'\n};\n\n class MapContainer extends Component {\n    state = {\n        showingInfoWindow: false,  //Hides or the shows the infoWindow\n        activeMarker: {},          //Shows the active marker upon click\n        selectedPlace: {} ,         //Shows the infoWindow to the selected place upon a marker\n        markers:[]\n      };\n      onMarkerClick = (props, marker, e) =>\n    this.setState({\n      selectedPlace: props,\n      activeMarker: marker,\n      showingInfoWindow: true\n    });\n\n  onClose = props => {\n    if (this.state.showingInfoWindow) {\n      this.setState({\n        showingInfoWindow: false,\n        activeMarker: null\n      });\n    }\n  };\n\n  componentWillMount(){\n    if(this.props.markerLocations ){\n      const locations = this.props.markerLocations;\n      \n      this.getLocationCoordinates(locations.from);\n      this.getLocationCoordinates(locations.to);\n       console.log(\"THE LOC \",this.state.markers)\n    }\n   \n  }\n\n   getLocationCoordinates(location){\n    const geocoder = new window.google.maps.Geocoder();\n    geocoder.geocode({address:location}, (result, status)=>{\n      if(status=='OK'){\n        const geometry = result[0].geometry.location\n        const coordinates = {\n          lat: geometry.lat(),\n          lng:geometry.lng()\n        }\n       this.setState(prev=>{\n         prev.markers.push(coordinates)\n       })\n        return coordinates\n      }\n    }) \n  }\n\n\n    render() {\n      console.log(\"CA Y ES \",this.state.markers)\n      if(this.state.markers.length > 1){\n       console.log(\"CA Y ES\")\n        return (\n          <Map\n            google={this.props.google}\n            zoom={14}\n            style={mapStyles}\n            initialCenter={{\n             lat: -1.2884,\n             lng: 36.8233\n            }}\n          >\n          <Marker\n            onClick={this.onMarkerClick}\n            name={'Kenyatta International Convention Centre'}\n          />\n          <InfoWindow\n            marker={this.state.activeMarker}\n            visible={this.state.showingInfoWindow}\n            onClose={this.onClose}\n          >\n            <div>\n              <h4>{this.state.selectedPlace.name}</h4>\n            </div>\n          </InfoWindow>\n        </Map>\n  \n          \n        )\n      }\n      else{\n        return (null)\n      }\n      \n    }\n\n  }\n\n  function mapStateToProps(state){\n    \n    return {\n      markerLocations: state.mapReducer.data\n    }\n  }\n\n  export const mapped = connect(mapStateToProps)(MapContainer)\n\n  export default GoogleApiWrapper({\n    apiKey: 'AIzaSyC64eUv-Iw47Q9MqhsnpgzpvCUm-SM1qi4'\n  })(mapped);\n  "]},"metadata":{},"sourceType":"module"}